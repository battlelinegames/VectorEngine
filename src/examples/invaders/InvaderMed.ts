import { renderLoop } from "../../engine";
import { InvaderObj } from "./InvaderObj";

export class InvaderMed extends InvaderObj {
  frame1: StaticArray<f32> = [
    -0.375, -0.25, 0.375, -0.25,
    0.234375, -0.5, 0.125, -0.5,
    0.125, -0.625, 0.375, -0.625,
    0.625, -0.125, 0.75, -0.375,
    0.75, -0.5, 0.875, -0.5,
    0.875, -0.25, 0.75, 0,
    0.25, 0.5, 0.5, 0.75,
    0.375, 0.875, 0.125, 0.625,
    -0.125, 0.625, -0.375, 0.875,
    -0.5, 0.75, -0.25, 0.5,
    -0.75, 0, -0.875, -0.25,
    -0.875, -0.5, -0.75, -0.5,
    -0.75, -0.375, -0.625, -0.125,
    -0.375, -0.625, -0.125, -0.625,
    -0.125, -0.5, -0.25, -0.5,];
  frame2: StaticArray<f32> = [
    -0.25, -0.25, 0.25, -0.25,
    0.5, -0.625, 0.5, -0.75,
    0.625, -0.75, 0.625, -0.546875,
    0.46875, -0.28125, 0.875, 0.125,
    0.875, 0.5, 0.75, 0.5,
    0.75, 0.25, 0.625, 0.125,
    0.25, 0.5, 0.5, 0.75,
    0.375, 0.875, 0.125, 0.625,
    -0.125, 0.625, -0.375, 0.875,
    -0.5, 0.75, -0.25, 0.5,
    -0.625, 0.125, -0.75, 0.25,
    -0.75, 0.5, -0.875, 0.5,
    -0.875, 0.125, -0.53125, -0.28125,
    -0.625, -0.546875, -0.625, -0.75,
    -0.5, -0.75, -0.5, -0.625,];
  eye: StaticArray<f32> = [
    -0.375, 0.25, 0.375, 0.25,
    0.25, 0.125, -0.2421875, 0.1328125,];

  constructor() {
    super();
    this.hw = 0.875 * this._scale;
    this.hh = 0.625 * this._scale;
  }
  @inline render(): void {
    if (this.active == false) {
      return;
    }

    if (this.frame == 1) {
      renderLoop(this.frame1, this.x, this.y, this.color, 0.0, 0.05);
    }
    else {
      renderLoop(this.frame2, this.x, this.y, this.color, 0.0, 0.05);
    }
    renderLoop(this.eye, this.x, this.y, 0xff_ff_ff_ff, 0.0, 0.05);
  }
}
